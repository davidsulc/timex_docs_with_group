<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.19.1">
    <title>Timex.Timezone.Local â€“ timex v3.4.1</title>
    <link rel="stylesheet" href="dist/html-4f6aa19597cd1982c84e.css" />
    <script src="dist/sidebar_items-b670025c07.js"></script>
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>
    <div class="main">
<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<button class="sidebar-button night-mode-toggle">
  <span class="icon-theme" aria-hidden="true"></span>
  <span class="sr-only">Toggle Theme</span>
</button>
<section class="sidebar">

  <a href="getting-started.html" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
timex      </h1>
      <h2 class="sidebar-projectVersion">
        v3.4.1
      </h2>
    </div>
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="Search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

      <li><a id="modules-list" href="#full-list">Modules</a></li>

      <li><a id="exceptions-list" href="#full-list">Exceptions</a></li>

  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">timex v3.4.1</small>
Timex.Timezone.Local        
          <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
      </h1>


        <section id="moduledoc">
<p>This module is responsible for determining the timezone configuration of the
local machine. It determines this from a number of sources, depending on platform,
but the order of precedence is as follows:</p>
<p>ALL:</p>
<ul>
<li>TZ environment variable. Ignored if nil/empty
</li>
</ul>
<p>OSX:</p>
<ul>
<li>/etc/localtime
</li>
<li>systemsetup -gettimezone (if admin rights are present)
</li>
</ul>
<p>UNIX:</p>
<ul>
<li>/etc/timezone
</li>
<li>/etc/sysconfig/clock
</li>
<li>/etc/conf.d/clock
</li>
<li>/etc/localtime
</li>
<li>/usr/local/etc/localtime
</li>
</ul>
<p>Windows:</p>
<ul>
<li>SYSTEM registry for the currently configured TimeZoneInformation
</li>
</ul>
<p>Each location is tried, and if an error is encountered, the next is attempted,
until either a successful lookup is performed, or we run out of locations to check.</p>
        </section>

        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:gregorian_seconds/0">gregorian_seconds()</a>
  </div>
</div>
  </div>
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#lookup/0">lookup()</a>
  </div>
    <div class="summary-synopsis"><p>Looks up the local timezone configuration. Returns the name of a timezone
in the Olson database</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#lookup/1">lookup(secs)</a>
  </div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#parse_tzfile/1">parse_tzfile(tzdata)</a>
  </div>
    <div class="summary-synopsis"><p>Given a binary representing the data from a tzfile (not the source version),
parses out the timezone for the curent date/time in UTC</p>
</div>
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#parse_tzfile/2">parse_tzfile(tzdata, reference_date)</a>
  </div>
    <div class="summary-synopsis"><p>Same as <a href="#parse_tzfile/1"><code class="inline">parse_tzfile/1</code></a>, but takes a reference date (in gregorian seconds). The reference
date will be used to locate the timezone period for the local timezone which applies to that date</p>
</div>
</div>
  </div>
        </section>

        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types          </h1>
          <div class="types-list">
<div class="detail" id="t:gregorian_seconds/0">
    <div class="detail-header">
    <a href="#t:gregorian_seconds/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <span class="signature">gregorian_seconds()</span>
      <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L37" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>gregorian_seconds() :: <a href="https://hexdocs.pm/elixir/typespecs.html#basic-types">non_neg_integer</a>()</pre>
      </div>
  </div>
  <section class="docstring">
  </section>
</div>
          </div>
        </section>
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions          </h1>
          <div class="functions-list">
<div class="detail" id="lookup/0">
    <div class="detail-header">
    <a href="#lookup/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">lookup()</span>
      <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L52" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>lookup() :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Looks up the local timezone configuration. Returns the name of a timezone
in the Olson database.</p>
<p>If no reference time is provided (in gregorian seconds), the current time in UTC will be used.
If one is provided, the reference time will be used to find the local timezone for that reference time,
if it exists.</p>
  </section>
</div>
<div class="detail" id="lookup/1">
    <div class="detail-header">
    <a href="#lookup/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">lookup(secs)</span>
      <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L53" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>lookup(<a href="#t:gregorian_seconds/0">gregorian_seconds</a>()) :: <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
  </section>
</div>
<div class="detail" id="parse_tzfile/1">
    <div class="detail-header">
    <a href="#parse_tzfile/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">parse_tzfile(tzdata)</span>
      <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L283" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>parse_tzfile(<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>()) :: {:ok, <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Given a binary representing the data from a tzfile (not the source version),
parses out the timezone for the curent date/time in UTC.</p>
  </section>
</div>
<div class="detail" id="parse_tzfile/2">
    <div class="detail-header">
    <a href="#parse_tzfile/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">parse_tzfile(tzdata, reference_date)</span>
      <a href="https://github.com/bitwalker/timex/blob/3.4.1/lib/timezone/timezone_local.ex#L291" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
        
      <div class="specs">
          <pre>parse_tzfile(<a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">binary</a>(), <a href="#t:gregorian_seconds/0">gregorian_seconds</a>()) ::
  {:ok, <a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()} | {:error, <a href="https://hexdocs.pm/elixir/typespecs.html#built-in-types">term</a>()}</pre>
      </div>
  </div>
  <section class="docstring">
<p>Same as <a href="#parse_tzfile/1"><code class="inline">parse_tzfile/1</code></a>, but takes a reference date (in gregorian seconds). The reference
date will be used to locate the timezone period for the local timezone which applies to that date.</p>
  </section>
</div>
          </div>
        </section>
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.19.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/html-4f6aa19597cd1982c84e.js"></script>
  
  </body>
</html>

